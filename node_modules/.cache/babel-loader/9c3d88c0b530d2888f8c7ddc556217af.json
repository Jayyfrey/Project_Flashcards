{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jmedi\\\\thinkful\\\\qualified-challenges\\\\Project_Flashcards_Qualified_1\\\\src\\\\cards\\\\ViewDeck.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory, Link } from \"react-router-dom\";\nimport { readDeck, deleteDeck, deleteCard } from \"./../utils/api/index.js\"; // The longest file in this project, need to refactor at some point\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ViewDeck({\n  pageRerenderTrigger,\n  setPageRerenderTrigger\n}) {\n  _s();\n\n  const history = useHistory();\n  const [currentDeck, setCurrentDeck] = useState(\"Not Fetched Yet\");\n  const [deckToDelete, setDeckToDelete] = useState(null);\n  const [cardToDelete, setCardToDelete] = useState(null); //const [pageRerenderTrigger,setPageRerenderTrigger] = useState();\n\n  const parameters = useParams();\n  const deckId = parameters.deckId;\n  useEffect(() => {\n    async function getDeck() {\n      const fetchedDeck = await readDeck(deckId);\n      setCurrentDeck(fetchedDeck);\n    }\n\n    getDeck();\n  }, [deckId]); // using effect to trigger re-render once either deck or card is deleted\n\n  useEffect(() => {\n    if (pageRerenderTrigger === \"cardViewDeck\") {\n      history.go(0);\n      setPageRerenderTrigger();\n    } else if (pageRerenderTrigger === \"deckViewDeck\") {\n      history.push(\"/\");\n    }\n  }, [history, pageRerenderTrigger, setPageRerenderTrigger]); // This is MODAL button handler\n\n  const handleModalDeleteButton = async event => {\n    if (deckToDelete === null && cardToDelete === null) {\n      return \"Getting information about the handler...\";\n    }\n\n    if (deckToDelete != null) {\n      console.log(\"Deck to Delete: \", deckToDelete);\n      deleteDeck(deckToDelete);\n      setDeckToDelete(null);\n      setPageRerenderTrigger(\"deckViewDeck\");\n    } else if (cardToDelete != null) {\n      console.log(\"Card to Delete: \", cardToDelete);\n      await deleteCard(cardToDelete);\n      setCardToDelete(null);\n      setPageRerenderTrigger(\"cardViewDeck\");\n    }\n  }; // This is icon (delete) button handler\n\n\n  const handleDeleteButton = async event => {\n    setDeckToDelete(event.target.getAttribute(\"deckid\"));\n    setCardToDelete(event.target.getAttribute(\"cardid\"));\n    console.log(event.target);\n\n    if (deckToDelete === null && cardToDelete === null) {\n      return \"Getting information about the handler...\";\n    }\n  };\n\n  if (currentDeck === \"Not Fetched Yet\") {\n    return \"Content is loading...\";\n  } // Rendering cards\n\n\n  const currentCardsList = currentDeck.cards.map((card, index) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-flex row border rounded mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"w-50\",\n        children: [\" \", card.front, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"\",\n          children: [\" \", card.back, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleDeleteButton,\n          cardid: card.id,\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#deleteModal\",\n          className: \"btn btn-danger mb-2 float-right\",\n          \"aria-label\": \"Right Align\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"20\",\n            height: \"20\",\n            fill: \"white\",\n            className: \"bi bi-trash-fill\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/decks/${deckId}/cards/${card.id}/edit`,\n          className: \"btn btn-secondary mr-2 float-right\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }); // Rendering main UI\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container w-75\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"breadcrumb\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item active\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \" Home \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 67\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: [\" \", currentDeck.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container w-75\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\" \", currentDeck.name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", currentDeck.description, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/decks/${deckId}/edit`,\n            className: \"btn btn-secondary mr-2\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/decks/${deckId}/study`,\n            className: \"btn btn-primary mr-2\",\n            children: \"Study\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/decks/${deckId}/cards/new`,\n            className: \"btn btn-primary mr-2\",\n            children: \"Add Cards\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeleteButton,\n          deckid: deckId,\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#deleteModal\",\n          type: \"button\",\n          className: \"btn btn-danger\",\n          \"aria-label\": \"Right Align\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"20\",\n            height: \"20\",\n            fill: \"white\",\n            className: \"bi bi-trash-fill\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container w-75\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" Cards \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), currentCardsList]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      id: \"deleteModal\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"deleteModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              id: \"deleteModalLabel\",\n              children: \"Delete this deck?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"close\",\n              \"data-dismiss\": \"modal\",\n              \"aria-label\": \"Close\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: \"You will not be able to recover it.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              \"data-dismiss\": \"modal\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleModalDeleteButton,\n              className: \"btn btn-primary\",\n              \"data-dismiss\": \"modal\",\n              children: \"OK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ViewDeck, \"aGBZO+by11n9LUkXLcr70TBiiks=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = ViewDeck;\nexport default ViewDeck;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewDeck\");","map":{"version":3,"sources":["C:/Users/jmedi/thinkful/qualified-challenges/Project_Flashcards_Qualified_1/src/cards/ViewDeck.js"],"names":["React","useState","useEffect","useParams","useHistory","Link","readDeck","deleteDeck","deleteCard","ViewDeck","pageRerenderTrigger","setPageRerenderTrigger","history","currentDeck","setCurrentDeck","deckToDelete","setDeckToDelete","cardToDelete","setCardToDelete","parameters","deckId","getDeck","fetchedDeck","go","push","handleModalDeleteButton","event","console","log","handleDeleteButton","target","getAttribute","currentCardsList","cards","map","card","index","front","back","id","name","description"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\"\r\nimport { useParams, useHistory, Link } from \"react-router-dom\";\r\nimport { readDeck,deleteDeck,deleteCard } from \"./../utils/api/index.js\";\r\n\r\n// The longest file in this project, need to refactor at some point\r\nfunction ViewDeck({ pageRerenderTrigger,setPageRerenderTrigger }) {\r\n    const history = useHistory();\r\n    const [currentDeck, setCurrentDeck] = useState(\"Not Fetched Yet\");\r\n    const [deckToDelete, setDeckToDelete] = useState(null);\r\n    const [cardToDelete, setCardToDelete] = useState(null);\r\n    //const [pageRerenderTrigger,setPageRerenderTrigger] = useState();\r\n    const parameters = useParams();\r\n    const deckId = parameters.deckId;\r\n\r\n    useEffect(() => {\r\n        async function getDeck () {\r\n            const fetchedDeck =  await readDeck(deckId);\r\n            setCurrentDeck(fetchedDeck); \r\n        }\r\n        getDeck();\r\n    },[deckId])\r\n\r\n    // using effect to trigger re-render once either deck or card is deleted\r\n    useEffect(() => {\r\n        if (pageRerenderTrigger === \"cardViewDeck\") {\r\n            history.go(0);\r\n            setPageRerenderTrigger()\r\n        } else if (pageRerenderTrigger === \"deckViewDeck\") {\r\n            history.push(\"/\")\r\n        }\r\n        \r\n    },[history, pageRerenderTrigger, setPageRerenderTrigger]);\r\n\r\n    // This is MODAL button handler\r\n    const handleModalDeleteButton = async (event) => {\r\n        if (deckToDelete === null && cardToDelete === null) {\r\n            return (\r\n                \"Getting information about the handler...\"\r\n            );\r\n        }\r\n\r\n        if (deckToDelete != null) {\r\n            console.log(\"Deck to Delete: \", deckToDelete)\r\n            deleteDeck(deckToDelete);\r\n            setDeckToDelete(null);\r\n            setPageRerenderTrigger(\"deckViewDeck\");\r\n        } else if (cardToDelete != null){\r\n            console.log(\"Card to Delete: \", cardToDelete)\r\n            await deleteCard(cardToDelete);\r\n            setCardToDelete(null);\r\n            setPageRerenderTrigger(\"cardViewDeck\");\r\n        }\r\n    }\r\n\r\n\r\n    // This is icon (delete) button handler\r\n    const handleDeleteButton = async (event) => {\r\n        setDeckToDelete(event.target.getAttribute(\"deckid\"));\r\n        setCardToDelete(event.target.getAttribute(\"cardid\"));\r\n        console.log(event.target)\r\n\r\n        if (deckToDelete === null && cardToDelete === null) {\r\n            return (\r\n                \"Getting information about the handler...\"\r\n            );\r\n        }\r\n    }\r\n\r\n    if (currentDeck === \"Not Fetched Yet\") {\r\n        return \"Content is loading...\"\r\n    }\r\n\r\n    // Rendering cards\r\n    const currentCardsList = currentDeck.cards.map((card,index) => {\r\n        return (\r\n            <div key={index} className = \"container d-flex row border rounded mb-2\">\r\n\r\n                <p className = \"w-50\"> {card.front} </p>\r\n\r\n                <div className = \"w-50\">\r\n\r\n                    <p className = \"\"> {card.back} </p>\r\n\r\n                    <button type = \"button\" \r\n                            onClick = {handleDeleteButton} \r\n                            cardid={card.id} \r\n                            data-toggle=\"modal\" \r\n                            data-target=\"#deleteModal\" \r\n                            className = \"btn btn-danger mb-2 float-right\" \r\n                            aria-label = \"Right Align\">\r\n                        <svg    xmlns=\"http://www.w3.org/2000/svg\" \r\n                                width=\"20\" \r\n                                height=\"20\" \r\n                                fill=\"white\" \r\n                                className=\"bi bi-trash-fill\" \r\n                                viewBox=\"0 0 16 16\">\r\n                                <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"/>\r\n                        </svg>\r\n                    </button>\r\n\r\n                    <Link   to = {`/decks/${deckId}/cards/${card.id}/edit`} \r\n                            className = \"btn btn-secondary mr-2 float-right\">\r\n                            Edit\r\n                    </Link>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    // Rendering main UI\r\n    return (\r\n        <div>           \r\n            <div className = \"container w-75\">\r\n                <nav aria-label = \"breadcrumb\">\r\n                    <ol className = \"breadcrumb\">\r\n                        <li className = \"breadcrumb-item active\"> <Link to = \"/\"> Home </Link> </li>\r\n                        <li className = \"breadcrumb-item\"> {currentDeck.name} </li>\r\n                    </ol>\r\n                </nav>\r\n            </div>\r\n            <div className = \"container w-75\">\r\n\r\n                <h4> {currentDeck.name} </h4>\r\n\r\n                <p> {currentDeck.description} </p>\r\n\r\n                <div className = \"d-flex justify-content-between mb-2\">\r\n                    <div>\r\n                        <Link to = {`/decks/${deckId}/edit`} className = \"btn btn-secondary mr-2\">Edit</Link>\r\n\r\n                        <Link to = {`/decks/${deckId}/study`} className = \"btn btn-primary mr-2\">Study</Link>\r\n\r\n                        <Link to = {`/decks/${deckId}/cards/new`} className = \"btn btn-primary mr-2\">Add Cards</Link>\r\n                    </div>\r\n                    <button onClick = {handleDeleteButton} \r\n                            deckid={deckId} \r\n                            data-toggle=\"modal\" \r\n                            data-target=\"#deleteModal\" \r\n                            type = \"button\" \r\n                            className = \"btn btn-danger\" \r\n                            aria-label = \"Right Align\">\r\n\r\n                            <svg    xmlns=\"http://www.w3.org/2000/svg\" \r\n                                    width=\"20\" \r\n                                    height=\"20\" \r\n                                    fill=\"white\" \r\n                                    className=\"bi bi-trash-fill\" \r\n                                    viewBox=\"0 0 16 16\">\r\n                                    <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"/>\r\n                            </svg>\r\n\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className = \"container w-75\">\r\n\r\n                <h4> Cards </h4>\r\n\r\n                {currentCardsList}\r\n\r\n            </div>\r\n\r\n            {/* Modal, only appears if delete button is clicked */}\r\n            <div    className=\"modal\" \r\n                    id=\"deleteModal\" \r\n                    tabIndex=\"-1\" \r\n                    role=\"dialog\" \r\n                    aria-labelledby=\"deleteModalLabel\" \r\n                    aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n\r\n                    <div className=\"modal-content\">\r\n\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\" id=\"deleteModalLabel\">Delete this deck?</h5>\r\n\r\n                        <button type=\"button\" \r\n                                className=\"close\" \r\n                                data-dismiss=\"modal\" \r\n                                aria-label=\"Close\">\r\n                            <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"modal-body\">\r\n                        You will not be able to recover it.\r\n                    </div>\r\n\r\n                    <div className=\"modal-footer\">\r\n\r\n                        <button type=\"button\" \r\n                                className=\"btn btn-secondary\" \r\n                                data-dismiss=\"modal\">\r\n                                Cancel\r\n                        </button>\r\n\r\n                        <button type=\"button\" \r\n                                onClick = {handleModalDeleteButton} \r\n                                className=\"btn btn-primary\" \r\n                                data-dismiss=\"modal\">\r\n                                OK\r\n                        </button>\r\n\r\n                    </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewDeck;"]},"metadata":{},"sourceType":"module"}